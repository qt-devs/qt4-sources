<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- installation.qdoc -->
  <title>Qt 4.7: Installing Qt on the Symbian platform using Linux (experimental)</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
		<div id="narrowsearch"><form onsubmit="return false;" action="" id="qtdocsearch">
		<fieldset>
		<input type="text" value="" id="pageType2" name="searchstring"/>
		 </fieldset>
		</form></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.7</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   <li><a href="namespaces.html">Namespaces</a></li> 
			   <li><a href="qtglobal.html">Global stuff</a></li> 
			   <li><a href="qdeclarativeelements.html">QML elements</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Qt Topics</a> 
			 <ul id="topmenuTopic"> 
			   <li><a href="qt-basic-concepts.html">Basic Qt architecture</a></li> 
			   <li><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li><a href="qt-gui-concepts.html">Desktop UI components</a></li> 
			   <li><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li><a href="best-practices.html">How-To's and Best Practices</a></li> 
			 </ul> 
		</li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
				 <li><a href="tutorials.html">Tutorials</a></li> 
				 <li><a href="demos.html">Demos</a></li> 
				 <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global stuff</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li>Installing Qt on the Symbian platform using Linux (experimental)</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<h1 class="title">Installing Qt on the Symbian platform using Linux (experimental)</h1>
<span class="subtitle"></span>
<!-- $$$install-Symbian-linux.html-description -->
<div class="descr"> <a name="details"></a>
<p><b>Note:</b> <b>This document describes how to install and configure Qt for the Symbian platform from scratch, using Linux as the build host. Qt for Symbian binaries can be downloaded directly so development of applications using Qt for Symbian can start right away.</b></p>
<ol type="1">
<li>Setup the development environment<p><b>Note:</b> Qt for the Symbian platform has some requirements on the development platform. The Symbian SDK for Linux as well as a cross compiler for the ARM processor used on Symbian devices should be present on the development machine. See {http://qt.gitorious.org/qt/pages/QtCreatorSymbianLinux} for more details.</p>
</li>
<li>Install Qt<p>Uncompress the <a href="http://qt.nokia.com/downloads">downloaded</a> source package into the directory you want Qt installed, e.g&#x2e; <tt>/home/user/qt/4.7.0</tt>.</p>
</li>
<li>Environment variables<p>In order to build and use Qt, the <tt>PATH</tt> environment variable needs to be extended to fine Qt tools and also to find the Symbian platform tools:</p>
<p>First you need to set the <tt>EPOCROOT</tt> environment variable to point to the location of your S60 SDK:</p>
<pre class="highlightedCode brush: cpp"> EPOCROOT=/home/user/s60-sdk/
 export EPOCROOT</pre>
<p>Then you can update the PATH variable;</p>
<pre class="highlightedCode brush: cpp"> PATH=/home/user/qt/4.7.0/bin:$EPOCROOT/epoc32/tools:$PATH
 export PATH</pre>
</li>
<li>Configure Qt<p>To configure Qt for the Symbian platform, do:</p>
<pre class="highlightedCode brush: cpp"> cd /home/user/qt/4.7.0
 ./configure -platform linux-g++ -xplatform symbian/linux-armcc</pre>
<p>to build the libraries using RVCT or</p>
<pre class="highlightedCode brush: cpp"> cd /home/user/qt/4.7.0
 ./configure -platform linux-g++ -xplatform symbian/linux-gcce -no-webkit</pre>
<p>to build the libraries using GCCE.</p>
</li>
<li>Build Qt<p>To build Qt for the device, type:</p>
<pre class="highlightedCode brush: cpp"> make</pre>
<p>Congratulations, Qt is now ready to use.</p>
</li>
<li>Building Qt packages for the device<p>To run any application or demo on a real device, you need to install it on the device. To do this you first have to create a a package for the device, containing the libraries:</p>
<ol type="A">
<li>Building a Qt package without a certificate<p>If you have no certificate, build a self signed Qt:</p>
<pre class="highlightedCode brush: cpp"> cd src
 make sis</pre>
<p>The Qt libraries are built with &quot;All -Tcb&quot; capability, so that they can support all types of applications. However, these capabilities are automatically lowered if you make a self-signed package.</p>
</li>
<li>Building a Qt package with a Symbian developer certificate<p>If you have a symbian-signed developer certificate, specify the capabilities you can sign for, for example:</p>
<pre class="highlightedCode brush: cpp"> cd src/s60installs
 patch_capabilities.pl Qt_template.pkg - &quot;ALL -Tcb -AllFiles -DRM&quot;
 make sis QT_SIS_CERTIFICATE=&lt;certificate file&gt; QT_SIS_KEY=&lt;certificate key file&gt;
 cd ../3rdparty/webkit/WebCore
 patch_capabilities.pl QtWebKit_template.pkg - &quot;ALL -Tcb -AllFiles -DRM&quot;
 make sis QT_SIS_CERTIFICATE=&lt;certificate file&gt; QT_SIS_KEY=&lt;certificate key file&gt;</pre>
</li>
</ol>
</li>
<li>Installing Qt packages to the device.<p>It is possible to install packages to a phone in Linux by putting the package on the phone memory card and then installing manually from the phone menu. However, this is tedious and will not work on phones without a memory card, so the method recommended by Qt is to use the App TRK tool.</p>
<ol type="a">
<li>Obtaining the App TRK package.<p>Download the package from the following location.</p>
<ul>
<li><a href="http://tools.ext.nokia.com/trk/">Application TRK</a>. Choose the correct installation package based on the S60 version of your device (<tt>S60_&lt;S60-version&gt;_app_trk_&lt;TRK-version&gt;.sisx</tt>).</li>
</ul>
<p>This package currently has to be installed by putting the package on the memory card and installing from the phone menu, or using a Windows PC for doing the install. However, the installation only has to be done once.</p>
</li>
<li>Configuring App TRK on the phone.<p>When App TRK is installed, connect the phone to the PC using the USB cable. Select &quot;PCSuite&quot; as connection type. Then run App TRK on the phone, and make sure that the connection type is USB. This can be changed under the <tt>Settings</tt> menu entry. If necessary, choose <tt>Connect</tt> from the menu.</p>
</li>
<li>Configuring the USB serial driver on the Linux system.<p>On Linux, phone should appear as the <tt>/dev/ttyUSB1</tt> device, however if you are running an old kernel, you may need to force the USB module to be loaded correctly before the device will appear:</p>
<pre class="highlightedCode brush: cpp"> lsusb</pre>
<p>Note the identifier on the line where your Symbian device appears. Then execute the following, using the first and second part of the identifier in place of <tt>XXX</tt>, respectively.</p>
<pre class="highlightedCode brush: cpp"> sudo rmmod usbserial
 sudo modprobe usbserial vendor=0x0XXX product=0x0XXX</pre>
<p>The <tt>rmmod</tt> step may fail if the module is not already loaded, but that is harmless.</p>
</li>
<li>Building the <tt>runonphone</tt> tool.<p>Note that building the <tt>runonphone</tt> tool requires a separate installation of Qt for Linux. If there is a version of Qt installed by your distribution's package mechanism, that that should do fine. Some distributions separate the libraries from the development setup which includes qmake. Make sure you have both installed.</p>
<p>First make sure that the <tt>qmake</tt> you use is taken from the Linux installation of Qt. The easiest way to make sure of this is to open a new shell and run the following command:</p>
<pre class="highlightedCode brush: cpp"> $ qmake -version
 QMake version 2.01a
 Using Qt version 4.6.2 in /usr/lib/qt4</pre>
<p><tt>qmake</tt> will tell you where it is installed.</p>
<p>Copy the <tt>%QTDIR%/tools/runonphone</tt> folder to a place outside of the Qt tree. Then go to the folder in a shell and build it:</p>
<pre class="highlightedCode brush: cpp"> cd $HOME/runonphone
 qmake
 make</pre>
<p>Copy the resulting executable to a folder which is in your <tt>PATH</tt> environment variable.</p>
</li>
<li>Installing the built package onto the phone.<p>Return to the root of the Qt tree configured for Symbian. Then install the Qt libraries by running the following:</p>
<pre class="highlightedCode brush: cpp"> runonphone -s lib/Qt.sis</pre>
<p><b>Note:</b> If the installation fails, please make sure that there is no previously installed version of Qt on the phone.</p>
<p>Qt requires some dependent packages to be installed on the device, they are shipped in the Symbian SDK and can be installed using the runonphone tool as well. The packages can be found in the EPOCROOT at the following locations;</p>
<pre class="highlightedCode brush: cpp"> nokia_plugin/openc/s60opencsis/openc_ssl_s60_1_6_ss.sis
 nokia_plugin/openc/s60opencsis/pips_s60_1_6_ss.sis
 nokia_plugin/opencpp/s60opencppsis/stdcpp_s60_1_6_ss.sis</pre>
</li>
</ol>
</li>
<li>Running Qt demos<p>We've included a subset of the Qt demos in this package for you to try out. An excellent starting point is the &quot;fluidlauncher&quot; demo.</p>
<p>Install and run the demo by using the following commands:</p>
<pre class="highlightedCode brush: cpp"> cd demos/embedded/fluidlauncher
 runonphone -s fluidlauncher.sis fluidlauncher.exe</pre>
<p>The same command can be used for other applications:</p>
<pre class="highlightedCode brush: cpp"> cd myapp
 qmake
 make
 make sis
 runonphone -s myapp.sis myapp.exe</pre>
<p>For more information about building and running Qt programs on the Symbian platform, see <a href="symbian-with-qt-introduction.html">The Symbian platform - Introduction to Qt</a>.</p>
<p>We hope you will enjoy using Qt.</p>
</li>
</ol>
</div>
<!-- @@@install-Symbian-linux.html -->
        <!-- /div -->
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback. <div class="note">Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</div></p>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
  <!--/div -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4457116-5']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
